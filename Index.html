<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Message For You üíï</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&family=Caveat:wght@700&family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Fredoka', sans-serif;
            background: linear-gradient(135deg, #ffeef8 0%, #ffe0f0 25%, #ffd4e8 50%, #ffc4e1 75%, #ffb8de 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        /* Floating hearts background */
        .heart-bg {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 1;
        }

        .floating-heart {
            position: absolute;
            font-size: 24px;
            opacity: 0.3;
            animation: float 15s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            25% {
                transform: translateY(-30px) rotate(5deg);
            }
            50% {
                transform: translateY(-60px) rotate(-5deg);
            }
            75% {
                transform: translateY(-30px) rotate(3deg);
            }
        }

        /* SCREEN 1: Envelope */
        .envelope-screen {
            position: relative;
            z-index: 2;
            text-align: center;
        }

        .envelope-container {
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .envelope-container:hover {
            transform: scale(1.05);
        }

        .envelope {
            width: 200px;
            height: 140px;
            background: #fff;
            position: relative;
            border-radius: 10px;
            box-shadow: 0 20px 60px rgba(255, 105, 180, 0.4);
            margin: 0 auto 30px;
        }

        .envelope-flap {
            width: 0;
            height: 0;
            border-left: 100px solid transparent;
            border-right: 100px solid transparent;
            border-top: 70px solid #ff69b4;
            position: absolute;
            top: 0;
            left: 0;
            transform-origin: top;
            transition: transform 0.6s ease;
            z-index: 3;
        }

        .envelope-container:hover .envelope-flap {
            transform: rotateX(180deg);
        }

        .envelope-body {
            width: 200px;
            height: 140px;
            background: #ffe0f0;
            border-radius: 10px;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }

        .letter-peek {
            width: 160px;
            height: 100px;
            background: white;
            position: absolute;
            top: 10px;
            left: 20px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            z-index: 2;
        }

        .envelope-text {
            font-family: 'Caveat', cursive;
            font-size: 2rem;
            color: #ff1493;
            margin-top: 20px;
            text-shadow: 2px 2px 0px #ffc0cb;
        }

        /* SCREEN 2: Question */
        .question-screen {
            position: relative;
            z-index: 2;
            text-align: center;
            padding: 40px;
            background: rgba(255, 255, 255, 0.85);
            border-radius: 50px;
            box-shadow: 0 20px 60px rgba(255, 105, 180, 0.4);
            max-width: 600px;
            backdrop-filter: blur(10px);
            border: 4px solid rgba(255, 255, 255, 0.9);
        }

        h1 {
            font-family: 'Caveat', cursive;
            font-size: 4rem;
            color: #ff1493;
            margin-bottom: 20px;
            text-shadow: 3px 3px 0px #ffc0cb;
            animation: bounce 2s infinite;
            line-height: 1.2;
        }

        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        .hearts-decoration {
            font-size: 3rem;
            margin: 20px 0;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
        }

        .buttons-container {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 40px;
            flex-wrap: wrap;
        }

        .button {
            padding: 20px 60px;
            font-size: 1.8rem;
            font-family: 'Fredoka', sans-serif;
            font-weight: 700;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 8px 20px rgba(255, 20, 147, 0.4);
            transition: all 0.3s ease;
        }

        #yesButton {
            background: linear-gradient(135deg, #4caf50, #45a049);
        }

        #yesButton:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(76, 175, 80, 0.6);
        }

        .no-button-container {
            position: fixed;
            width: 100%;
            height: 100vh;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 100;
        }

        #noButton {
            position: absolute;
            background: linear-gradient(135deg, #ff6b6b, #ff5252);
            transition: all 0.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            pointer-events: auto;
            left: 50%;
            top: 60%;
            transform: translate(-50%, -50%);
        }

        /* SCREEN 3: Love Letter */
        .letter-screen {
            position: relative;
            z-index: 2;
            text-align: center;
            padding: 60px 40px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(255, 105, 180, 0.5);
            max-width: 700px;
            backdrop-filter: blur(10px);
            border: 4px solid rgba(255, 255, 255, 0.9);
            animation: fadeInScale 0.8s ease;
        }

        @keyframes fadeInScale {
            0% {
                opacity: 0;
                transform: scale(0.8);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .letter-screen h2 {
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem;
            color: #ff1493;
            margin-bottom: 30px;
            text-shadow: 2px 2px 0px #ffc0cb;
        }

        .letter-content {
            font-family: 'Dancing Script', cursive;
            font-size: 1.8rem;
            color: #ff69b4;
            line-height: 1.8;
            margin-bottom: 30px;
        }

        .letter-signature {
            font-family: 'Dancing Script', cursive;
            font-size: 2rem;
            color: #ff1493;
            margin-top: 40px;
            font-weight: 700;
        }

        /* Sparkle effect */
        .sparkle {
            position: fixed;
            pointer-events: none;
            animation: sparkleAnim 1s ease-out forwards;
            z-index: 1000;
        }

        @keyframes sparkleAnim {
            0% {
                transform: scale(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: scale(1.5) rotate(180deg);
                opacity: 0;
            }
        }

        .hidden {
            display: none !important;
        }

        /* Mobile responsiveness */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }

            .button {
                padding: 15px 40px;
                font-size: 1.4rem;
            }

            .question-screen, .letter-screen {
                padding: 30px 20px;
                margin: 20px;
            }

            .envelope {
                width: 160px;
                height: 112px;
            }

            .envelope-flap {
                border-left: 80px solid transparent;
                border-right: 80px solid transparent;
                border-top: 56px solid #ff69b4;
            }

            .letter-peek {
                width: 128px;
                height: 80px;
                font-size: 2rem;
            }

            .letter-content {
                font-size: 1.4rem;
            }
        }
    </style>
</head>
<body>
    <!-- Floating hearts background -->
    <div class="heart-bg" id="heartBg"></div>

    <!-- SCREEN 1: Envelope -->
    <div class="envelope-screen" id="envelopeScreen">
        <div class="envelope-container" id="envelopeContainer">
            <div class="envelope">
                <div class="envelope-flap"></div>
                <div class="envelope-body"></div>
                <div class="letter-peek">üíå</div>
            </div>
            <p class="envelope-text">Click to open the letter</p>
        </div>
    </div>

    <!-- SCREEN 2: Question -->
    <div class="question-screen hidden" id="questionScreen">
        <h1>Will You Be My Valentine?</h1>
        <div class="hearts-decoration">üíñ üíï üíó üíì üíù</div>
        
        <div class="buttons-container">
            <button class="button" id="yesButton">Yes! üíï</button>
            <div class="no-button-container">
                <button class="button" id="noButton">No üò¢</button>
            </div>
        </div>
    </div>

    <!-- SCREEN 3: Love Letter -->
    <div class="letter-screen hidden" id="letterScreen">
        <h2>My Dearest Valentine üíï</h2>
        <div class="hearts-decoration">üíñ üíó üíù</div>
        <p class="letter-content">
            From the moment I met you, my life has been filled with joy and laughter. 
            You make every day brighter just by being in it. Your smile lights up my world, 
            and your kindness touches my heart in ways I never thought possible. 
            I am so grateful to have you in my life, and I can't wait to create more 
            beautiful memories together. You are my favorite person, today and always.
        </p>
        <p class="letter-signature">Forever Yours ‚ù§Ô∏è</p>
    </div>

    <script>
        // Create floating hearts background
        const heartBg = document.getElementById('heartBg');
        const heartSymbols = ['üíñ', 'üíï', 'üíó', 'üíì', 'üíù', 'üíò', '‚ù§Ô∏è', 'üíû'];
        
        for (let i = 0; i < 20; i++) {
            const heart = document.createElement('div');
            heart.className = 'floating-heart';
            heart.textContent = heartSymbols[Math.floor(Math.random() * heartSymbols.length)];
            heart.style.left = Math.random() * 100 + '%';
            heart.style.top = Math.random() * 100 + '%';
            heart.style.animationDelay = Math.random() * 15 + 's';
            heart.style.fontSize = (Math.random() * 20 + 20) + 'px';
            heartBg.appendChild(heart);
        }

        // Screen management
        const envelopeScreen = document.getElementById('envelopeScreen');
        const questionScreen = document.getElementById('questionScreen');
        const letterScreen = document.getElementById('letterScreen');
        const envelopeContainer = document.getElementById('envelopeContainer');

        // Open envelope to show question
        envelopeContainer.addEventListener('click', function() {
            envelopeScreen.classList.add('hidden');
            questionScreen.classList.remove('hidden');
        });

        // Button functionality
        const yesButton = document.getElementById('yesButton');
        const noButton = document.getElementById('noButton');
        let attempts = 0;
        let isRunning = false;

        const noButtonTexts = [
            "No üò¢",
            "Are you sure? ü•∫",
            "Really? üòî",
            "Please? ü•π",
            "Pretty please? üíï",
            "I'll be sad... üò¢",
            "Think again? üí≠",
            "One more chance? üôè",
            "Reconsider? üíù",
            "Don't break my heart üíî",
            "You're making me cry üò≠",
            "I really like you! üòä",
            "Give me a chance? üåπ",
            "I promise to be sweet üç¨",
            "Please be my Valentine! üíñ"
        ];

        function createSparkle(x, y) {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.textContent = '‚ú®';
            sparkle.style.left = x + 'px';
            sparkle.style.top = y + 'px';
            sparkle.style.fontSize = (Math.random() * 20 + 20) + 'px';
            document.body.appendChild(sparkle);
            
            setTimeout(() => sparkle.remove(), 1000);
        }

        function moveNoButton() {
            if (isRunning) return;
            
            isRunning = true;
            attempts++;
            
            // Update button text
            const textIndex = Math.min(attempts - 1, noButtonTexts.length - 1);
            noButton.textContent = noButtonTexts[textIndex];
            
            // Create sparkles at current position
            const rect = noButton.getBoundingClientRect();
            createSparkle(rect.left + rect.width / 2, rect.top + rect.height / 2);
            
            // Use percentage-based positioning (10% to 90% for both x and y)
            // This keeps the button center within safe bounds
            const newXPercent = Math.random() * 80 + 10; // 10% to 90%
            const newYPercent = Math.random() * 80 + 10; // 10% to 90%
            
            // Move button to new position using percentages
            noButton.style.left = newXPercent + '%';
            noButton.style.top = newYPercent + '%';
            noButton.style.transform = 'translate(-50%, -50%)';
            
            setTimeout(() => {
                isRunning = false;
            }, 200);
        }

        noButton.addEventListener('mouseenter', moveNoButton);
        noButton.addEventListener('touchstart', function(e) {
            e.preventDefault();
            moveNoButton();
        });
        
        // Prevent clicking No button
        noButton.addEventListener('mousedown', function(e) {
            e.preventDefault();
            moveNoButton();
        });

        // Yes button shows love letter
        yesButton.addEventListener('click', function() {
            questionScreen.classList.add('hidden');
            letterScreen.classList.remove('hidden');
            
            // Create celebration sparkles
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    createSparkle(
                        Math.random() * window.innerWidth,
                        Math.random() * window.innerHeight
                    );
                }, i * 100);
            }
        });
    </script>
</body>
</html>